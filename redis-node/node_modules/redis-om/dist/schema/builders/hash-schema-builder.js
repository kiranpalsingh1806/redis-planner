"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const schema_builder_1 = tslib_1.__importDefault(require("./schema-builder"));
class HashSchemaBuilder extends schema_builder_1.default {
    buildEntry(field) {
        const fieldDef = this.schema.definition[field];
        const fieldAlias = fieldDef.alias ?? field;
        switch (fieldDef.type) {
            case 'date':
                return [
                    fieldAlias, 'NUMERIC',
                    ...this.buildSortable(fieldDef),
                    ...this.buildIndexed(fieldDef),
                ];
            case 'boolean':
                return [
                    fieldAlias, 'TAG',
                    ...this.buildSortable(fieldDef),
                    ...this.buildIndexed(fieldDef),
                ];
            case 'number':
                return [
                    fieldAlias, 'NUMERIC',
                    ...this.buildSortable(fieldDef),
                    ...this.buildIndexed(fieldDef),
                ];
            case 'point':
                return [
                    fieldAlias, 'GEO',
                    ...this.buildIndexed(fieldDef),
                ];
            case 'string[]':
            case 'string':
                return [
                    fieldAlias, 'TAG',
                    ...this.buildCaseInsensitive(fieldDef),
                    ...this.buildSeparable(fieldDef),
                    ...this.buildSortable(fieldDef),
                    ...this.buildNormalized(fieldDef),
                    ...this.buildIndexed(fieldDef),
                ];
            case 'text':
                return [
                    fieldAlias, 'TEXT',
                    ...this.buildStemming(fieldDef),
                    ...this.buildPhonetic(fieldDef),
                    ...this.buildSortable(fieldDef),
                    ...this.buildNormalized(fieldDef),
                    ...this.buildWeight(fieldDef),
                    ...this.buildIndexed(fieldDef),
                ];
        }
        ;
    }
}
exports.default = HashSchemaBuilder;
