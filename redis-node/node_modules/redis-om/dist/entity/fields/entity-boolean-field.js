"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const entity_field_1 = tslib_1.__importDefault(require("./entity-field"));
class EntityBooleanField extends entity_field_1.default {
    toRedisHash() {
        const data = {};
        if (this.value !== null)
            data[this.name] = this.value ? '1' : '0'.toString();
        return data;
    }
    ;
    fromRedisHash(value) {
        if (value === '0') {
            this.value = false;
        }
        else if (value === '1') {
            this.value = true;
        }
        else {
            throw Error(`Non-boolean value of '${value}' read from Redis for boolean field.`);
        }
    }
    validateValue(value) {
        super.validateValue(value);
        if (value !== null && !this.isBoolean(value))
            throw Error(`Expected value with type of 'boolean' but received '${value}'.`);
    }
}
exports.default = EntityBooleanField;
